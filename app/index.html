<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>BlankUp</title>

	<link rel="stylesheet" href="css/font-awesome/css/font-awesome.css" />
  <link rel="stylesheet" href="css/style.css" />
  
</head>

<body>
		<p>Loading...</p>

</body>

	<script>
		let currentFile = null

		let previewState = false
		window.addEventListener('keypress', (e) => {

			//Toggle preview with Ctrl + M
			if (e.ctrlKey === true && e.keyCode === 10 && e.shiftKey === true) {
				previewState = !previewState
				editor.previewVisible(previewState)
			}

			//Save the file with Ctrl + S
			if (e.ctrlKey === true && e.keyCode === 19) {
        console.log('Bâ¬†: Saving file.')
				if(currentFile === null) return
				const markdown = editor.getMarkdown()
				const fs = require('fs')
				fs.writeFile(currentFile.path, markdown, () => {

				})
			}

		})

		//When a file is dropped in use that.
		document.ondragover = document.ondrop = (ev) => {
			ev.preventDefault()
		}

	</script>
	<script>
    require('./js/app').mount('body')
  </script>

</html>
